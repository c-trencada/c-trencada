#inclou "test.cç"

enter _Alinea_com(512) g1;
enter _Alinea_com(512) g2;
caràcter g3;
enter g4;
llarg g5;
caràcter g6;

enter principal() {
  AFIRMA(1, _Alineació_de(caràcter));
  AFIRMA(2, _Alineació_de(curt));
  AFIRMA(4, _Alineació_de(enter));
  AFIRMA(8, _Alineació_de(llarg));
  AFIRMA(8, _Alineació_de(llarg llarg));
  AFIRMA(1, _Alineació_de(caràcter[3]));
  AFIRMA(4, _Alineació_de(enter));
  AFIRMA(1, _Alineació_de(estructura {caràcter a; caràcter b;}[2]));
  AFIRMA(8, _Alineació_de(estructura {caràcter a; llarg b;}[2]));

  AFIRMA(1, ({ _Alinea_com(caràcter) caràcter valor_primer, valor_segon; &valor_segon-&valor_primer; }));
  AFIRMA(8, ({ _Alinea_com(llarg) caràcter valor_primer, valor_segon; &valor_segon-&valor_primer; }));
  AFIRMA(32, ({ _Alinea_com(32) caràcter valor_primer, valor_segon; &valor_segon-&valor_primer; }));
  AFIRMA(32, ({ _Alinea_com(32) enter *valor_primer, *valor_segon; ((caràcter *)&valor_segon)-((caràcter *)&valor_primer); }));
  AFIRMA(16, ({ estructura { _Alinea_com(16) caràcter valor_x, valor_y; } estructura_a; &estructura_a.valor_y-&estructura_a.valor_x; }));
  AFIRMA(8, ({ estructura Tipus { _Alinea_com(8) caràcter membre_a; }; _Alineació_de(estructura Tipus); }));

  AFIRMA(0, (llarg)(caràcter *)&g1 % 512);
  AFIRMA(0, (llarg)(caràcter *)&g2 % 512);
  AFIRMA(0, (llarg)(caràcter *)&g4 % 4);
  AFIRMA(0, (llarg)(caràcter *)&g5 % 8);

  AFIRMA(1, ({ caràcter valor; _Alineació_de(valor); }));
  AFIRMA(4, ({ enter valor; _Alineació_de(valor); }));
  AFIRMA(1, ({ caràcter valor; _Alineació_de valor; }));
  AFIRMA(4, ({ enter valor; _Alineació_de valor; }));

  AFIRMA(1, _Alineació_de(caràcter) << 31 >> 31);
  AFIRMA(1, _Alineació_de(caràcter) << 63 >> 63);
  AFIRMA(1, ({ caràcter valor; _Alineació_de(valor) << 63 >> 63; }));

  AFIRMA(0, ({ caràcter taula[16]; (sense_signe llarg)&taula % 16; }));
  AFIRMA(0, ({ caràcter taula[17]; (sense_signe llarg)&taula % 16; }));
  AFIRMA(0, ({ caràcter taula[100]; (sense_signe llarg)&taula % 16; }));
  AFIRMA(0, ({ caràcter taula[101]; (sense_signe llarg)&taula % 16; }));

  imprimeix("OK\n");
  retorna 0;
}
