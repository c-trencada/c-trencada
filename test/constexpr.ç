#inclou "test.c√ß"

flot g40 = 1.5;
doble g41 = 0.0 ? 55 : (0, 1 + 1 * 5.0 / 2 * (doble)2 * (ent)2.0);

ent principal() {
  AFIRMA(10, ({ enum { ten=1+2+3+4 }; ten; }));
  AFIRMA(1, ({ ent i=0; selecciona(3) { cas 5-2+0*3: i++; } i; }));
  AFIRMA(8, ({ ent x[1+1]; mida_de(x); }));
  AFIRMA(6, ({ car x[8-2]; mida_de(x); }));
  AFIRMA(6, ({ car x[2*3]; mida_de(x); }));
  AFIRMA(3, ({ car x[12/4]; mida_de(x); }));
  AFIRMA(2, ({ car x[12%10]; mida_de(x); }));
  AFIRMA(0b100, ({ car x[0b110&0b101]; mida_de(x); }));
  AFIRMA(0b111, ({ car x[0b110|0b101]; mida_de(x); }));
  AFIRMA(0b110, ({ car x[0b111^0b001]; mida_de(x); }));
  AFIRMA(4, ({ car x[1<<2]; mida_de(x); }));
  AFIRMA(2, ({ car x[4>>1]; mida_de(x); }));
  AFIRMA(2, ({ car x[(1==1)+1]; mida_de(x); }));
  AFIRMA(1, ({ car x[(1!=1)+1]; mida_de(x); }));
  AFIRMA(1, ({ car x[(1<1)+1]; mida_de(x); }));
  AFIRMA(2, ({ car x[(1<=1)+1]; mida_de(x); }));
  AFIRMA(2, ({ car x[1?2:3]; mida_de(x); }));
  AFIRMA(3, ({ car x[0?2:3]; mida_de(x); }));
  AFIRMA(3, ({ car x[(1,3)]; mida_de(x); }));
  AFIRMA(2, ({ car x[!0+1]; mida_de(x); }));
  AFIRMA(1, ({ car x[!1+1]; mida_de(x); }));
  AFIRMA(2, ({ car x[~-3]; mida_de(x); }));
  AFIRMA(2, ({ car x[(5||6)+1]; mida_de(x); }));
  AFIRMA(1, ({ car x[(0||0)+1]; mida_de(x); }));
  AFIRMA(2, ({ car x[(1&&1)+1]; mida_de(x); }));
  AFIRMA(1, ({ car x[(1&&0)+1]; mida_de(x); }));
  AFIRMA(3, ({ car x[(ent)3]; mida_de(x); }));
  AFIRMA(15, ({ car x[(car)0xffffff0f]; mida_de(x); }));
  AFIRMA(0x10f, ({ car x[(curt)0xffff010f]; mida_de(x); }));
  AFIRMA(4, ({ car x[(ent)0xfffffffffff+5]; mida_de(x); }));
  AFIRMA(8, ({ car x[(ent*)0+2]; mida_de(x); }));
  AFIRMA(12, ({ car x[(ent*)16-1]; mida_de(x); }));
  AFIRMA(3, ({ car x[(ent*)16-(ent*)4]; mida_de(x); }));

  AFIRMA(4, ({ car x[(-1>>31)+5]; mida_de(x); }));
  AFIRMA(255, ({ car x[(sense_signe car)0xffffffff]; mida_de(x); }));
  AFIRMA(0x800f, ({ car x[(sense_signe curt)0xffff800f]; mida_de(x); }));
  AFIRMA(1, ({ car x[(sense_signe ent)0xfffffffffff>>31]; mida_de(x); }));
  AFIRMA(1, ({ car x[(llarg)-1/((llarg)1<<62)+1]; mida_de(x); }));
  AFIRMA(4, ({ car x[(sense_signe llarg)-1/((llarg)1<<62)+1]; mida_de(x); }));
  AFIRMA(1, ({ car x[(sense_signe)1<-1]; mida_de(x); }));
  AFIRMA(1, ({ car x[(sense_signe)1<=-1]; mida_de(x); }));

  AFIRMA(1, g40==1.5);
  AFIRMA(1, g41==11);

  imprimeix("OK\n");
  retorna 0;
}
