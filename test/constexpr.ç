#inclou "test.cç"

flot g40 = 1.5;
doble g41 = 0.0 ? 55 : (0, 1 + 1 * 5.0 / 2 * (doble)2 * (enter)2.0);

enter principal() {
  AFIRMA(10, ({ enum { ten=1+2+3+4 }; ten; }));
  AFIRMA(1, ({ enter i=0; selecciona(3) { cas 5-2+0*3: i++; } i; }));
  AFIRMA(8, ({ enter x[1+1]; mida_de(x); }));
  AFIRMA(6, ({ caràcter x[8-2]; mida_de(x); }));
  AFIRMA(6, ({ caràcter x[2*3]; mida_de(x); }));
  AFIRMA(3, ({ caràcter x[12/4]; mida_de(x); }));
  AFIRMA(2, ({ caràcter x[12%10]; mida_de(x); }));
  AFIRMA(0b100, ({ caràcter x[0b110&0b101]; mida_de(x); }));
  AFIRMA(0b111, ({ caràcter x[0b110|0b101]; mida_de(x); }));
  AFIRMA(0b110, ({ caràcter x[0b111^0b001]; mida_de(x); }));
  AFIRMA(4, ({ caràcter x[1<<2]; mida_de(x); }));
  AFIRMA(2, ({ caràcter x[4>>1]; mida_de(x); }));
  AFIRMA(2, ({ caràcter x[(1==1)+1]; mida_de(x); }));
  AFIRMA(1, ({ caràcter x[(1!=1)+1]; mida_de(x); }));
  AFIRMA(1, ({ caràcter x[(1<1)+1]; mida_de(x); }));
  AFIRMA(2, ({ caràcter x[(1<=1)+1]; mida_de(x); }));
  AFIRMA(2, ({ caràcter x[1?2:3]; mida_de(x); }));
  AFIRMA(3, ({ caràcter x[0?2:3]; mida_de(x); }));
  AFIRMA(3, ({ caràcter x[(1,3)]; mida_de(x); }));
  AFIRMA(2, ({ caràcter x[!0+1]; mida_de(x); }));
  AFIRMA(1, ({ caràcter x[!1+1]; mida_de(x); }));
  AFIRMA(2, ({ caràcter x[~-3]; mida_de(x); }));
  AFIRMA(2, ({ caràcter x[(5||6)+1]; mida_de(x); }));
  AFIRMA(1, ({ caràcter x[(0||0)+1]; mida_de(x); }));
  AFIRMA(2, ({ caràcter x[(1&&1)+1]; mida_de(x); }));
  AFIRMA(1, ({ caràcter x[(1&&0)+1]; mida_de(x); }));
  AFIRMA(3, ({ caràcter x[(enter)3]; mida_de(x); }));
  AFIRMA(15, ({ caràcter x[(caràcter)0xffffff0f]; mida_de(x); }));
  AFIRMA(0x10f, ({ caràcter x[(curt)0xffff010f]; mida_de(x); }));
  AFIRMA(4, ({ caràcter x[(enter)0xfffffffffff+5]; mida_de(x); }));
  AFIRMA(8, ({ caràcter x[(enter*)0+2]; mida_de(x); }));
  AFIRMA(12, ({ caràcter x[(enter*)16-1]; mida_de(x); }));
  AFIRMA(3, ({ caràcter x[(enter*)16-(enter*)4]; mida_de(x); }));

  AFIRMA(4, ({ caràcter x[(-1>>31)+5]; mida_de(x); }));
  AFIRMA(255, ({ caràcter x[(sense_signe caràcter)0xffffffff]; mida_de(x); }));
  AFIRMA(0x800f, ({ caràcter x[(sense_signe curt)0xffff800f]; mida_de(x); }));
  AFIRMA(1, ({ caràcter x[(sense_signe enter)0xfffffffffff>>31]; mida_de(x); }));
  AFIRMA(1, ({ caràcter x[(llarg)-1/((llarg)1<<62)+1]; mida_de(x); }));
  AFIRMA(4, ({ caràcter x[(sense_signe llarg)-1/((llarg)1<<62)+1]; mida_de(x); }));
  AFIRMA(1, ({ caràcter x[(sense_signe)1<-1]; mida_de(x); }));
  AFIRMA(1, ({ caràcter x[(sense_signe)1<=-1]; mida_de(x); }));

  AFIRMA(1, g40==1.5);
  AFIRMA(1, g41==11);

  imprimeix("OK\n");
  retorna 0;
}
